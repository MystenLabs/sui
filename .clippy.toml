too-many-arguments-threshold = 20
disallowed-methods = [
    # we use tracing with the log feature instead of the log crate.
    # Marked as `allow-invalid` since this warning expects a function but these are macros
    { path = "log::info", reason = "use tracing::info instead", allow-invalid = true },
    { path = "log::debug", reason = "use tracing::debug instead", allow-invalid = true },
    { path = "log::error", reason = "use tracing::error instead", allow-invalid = true },
    { path = "log::warn", reason = "use tracing::warn instead", allow-invalid = true },
    # unbounded channels are for expert use only
    { path = "tokio::sync::mpsc::unbounded_channel", reason = "use a bounded channel instead" },
    { path = "futures::channel::mpsc::unbounded", reason = "use a bounded channel instead" },
    { path = "futures_channel::mpsc::unbounded", reason = "use a bounded channel instead" },
    # known to cause blocking issues
    { path = "futures::executor::block_on", reason = "use tokio::runtime::runtime::Runtime::block_on instead"},
    # bincode::deserialize_from is easy to shoot your foot with
    { path = "bincode::deserialize_from", reason = "use bincode::deserialize instead" },
    # setting env vars during runtime is unsafe and should never be done
    { path = "std::env::set_var", reason = "updating env vars during runtime is unsafe" },
    { path = "std::env::remove_var", reason = "updating env vars during runtime is unsafe" },
]
