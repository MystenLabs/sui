---
source: crates/sui/tests/shell_tests.rs
---
----- script -----
# Copyright (c) Mysten Labs, Inc.
# SPDX-License-Identifier: Apache-2.0

# If `-y` is passed and the config file doesn't exist, it is created
# This is the same as prompt.sh except we pass -y instead of writing <enter> on stdin
sui client --client.config ./client.yaml -y envs \
  | sed 's/Generated new keypair.*$/Generated new keypair <REDACTED>/g' \
  | sed 's/recovery phrase : \[.*\]/recovery phrase : <REDACTED>/g'

sed 's/active_address:.*$/active_address: <REDACTED>/g' client.yaml

echo ""
echo "check for keystore:"
ls sui.keystore

----- results -----
success: true
exit_code: 0
----- stdout -----
Generated new keypair <REDACTED>
  secret recovery phrase : <REDACTED>
Created "./client.yaml"
Set active environment to testnet
╭─────────┬─────────────────────────────────────┬────────╮
│ alias   │ url                                 │ active │
├─────────┼─────────────────────────────────────┼────────┤
│ testnet │ https://fullnode.testnet.sui.io:443 │ *      │
│ mainnet │ https://fullnode.mainnet.sui.io:443 │        │
│ devnet  │ https://fullnode.devnet.sui.io:443  │        │
│ local   │ http://127.0.0.1:9000               │        │
╰─────────┴─────────────────────────────────────┴────────╯
---
keystore:
  File: "./sui.keystore"
external_keys: ~
envs:
  - alias: testnet
    rpc: "https://fullnode.testnet.sui.io:443"
    ws: ~
    basic_auth: ~
    chain_id: 4c78adac
  - alias: mainnet
    rpc: "https://fullnode.mainnet.sui.io:443"
    ws: ~
    basic_auth: ~
    chain_id: 35834a8a
  - alias: devnet
    rpc: "https://fullnode.devnet.sui.io:443"
    ws: ~
    basic_auth: ~
  - alias: local
    rpc: "http://127.0.0.1:9000"
    ws: ~
    basic_auth: ~
active_env: testnet
active_address: <REDACTED>

check for keystore:
sui.keystore

----- stderr -----
[warning] Client/Server api version mismatch, client api version : 1.63.0, server api version : 1.62.0
