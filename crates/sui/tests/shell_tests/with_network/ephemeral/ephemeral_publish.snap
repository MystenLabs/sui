---
source: crates/sui/tests/shell_tests.rs
assertion_line: 113
---
----- script -----
#!/usr/bin/env bash
# Copyright (c) Mysten Labs, Inc.
# SPDX-License-Identifier: Apache-2.0

# Test an ephemeral publication workflow. We have
# B --> A
# C --> B
# C --> A
#
# D --> B
# D --> A
#
# E --> C
# E --> D
#
# We publish A, B, C, D, E in order

for i in a b c d e
do
  echo === building $i ===
  sui client --client.config $CONFIG \
    test-publish --build-env testnet --pubfile-path Pub.local.toml $i \
    > out.log 2>&1 || cat out.log

done

----- results -----
success: true
exit_code: 0
----- stdout -----
=== building a ===
=== building b ===
=== building c ===
=== building d ===
=== building e ===
INCLUDING DEPENDENCY MoveStdlib
INCLUDING DEPENDENCY Sui
INCLUDING DEPENDENCY a
INCLUDING DEPENDENCY b
INCLUDING DEPENDENCY c
INCLUDING DEPENDENCY d
BUILDING e
code: 'Unknown error', message: "Transaction executed but checkpoint wait timed out", source: CheckpointTimeout(Response { metadata: MetadataMap { headers: {"content-type": "application/grpc", "grpc-encoding": "zstd", "x-sui-chain-id": "457f2ef0", "x-sui-chain": "unknown", "x-sui-epoch": "0", "x-sui-checkpoint-height": "483", "x-sui-timestamp-ms": "1770916258507", "x-sui-timestamp": "2026-02-12T17:10:58.507Z", "x-sui-lowest-available-checkpoint": "0", "x-sui-lowest-available-checkpoint-objects": "0", "server": "sui-node/unknown", "vary": "origin, access-control-request-method, access-control-request-headers", "access-control-allow-origin": "*", "access-control-expose-headers": "*", "server-timing": "wait_for_finality_done;dur=1493, finish_request;dur=0", "date": "Thu, 12 Feb 2026 17:11:30 GMT", "grpc-status": "0"} }, message: ExecuteTransactionResponse { transaction: Some(ExecutedTransaction { digest: None, transaction: Some(Transaction { bcs: Some(Bcs { name: Some("TransactionData"), value: Some(b"/0/0/x01/0 /x18/xcb/x85-[/xe1/x98L/xf5/xefM#/xdf/xd9VJ/x86/x16U#/x8f/xb0o/xc1/x8ckI/x84/x86X<)/x02/x04/x01/xa3/x01/xa1/x1c/xeb/x0b/x06/0/0/0/x06/x01/0/x06/x03/x06/x0f/x05/x15/x01/x07/x16/x06/x08/x1c`/x0c|/x0b/0/x02/x02/0/x01/x01/0/x02/0/0/0/x01/0/0/0/0/x02/x01/0/0/0/0/x01c/x01d/x01e/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0//xba/xe8M/x9f/xd8/xd8R/xdc/xf4/x19/x1a;/xb8/xd3/x8e/x99/x17Qs/x88/xb7_|/x16/xf4/xef/xee/x82?/xa1/xa0/xa8/x97/x96/x98V0/xab/xf5>/x93/x8d/xf9/xf0/x88/xf8i/xc0G/x15-i$/x19/x12dW/xefj/xc1/xac/x98S/0/x01/0/0/0/x03/x11/x01/x11/x02/x02/0/x04/xc1?/xb4&/x07/xec/xf1/xbeK4/x82/xf6/x19/xeeY/xe93/xbb/x07/xa7S/xcb/xc5/x88/xf8/xf3/x13o]i/xfcMv{c/xfc/xe3/xd8/x88l/xa5/xcb/xf1/x04y/xe5/r/xe9/xdds/xbd/0/xa4/xfd/xe5/x89/xd3/x10/x84/xa0/x10/xf0/xd0/xb9/xa8/x97/x96/x98V0/xab/xf5>/x93/x8d/xf9/xf0/x88/xf8i/xc0G/x15-i$/x19/x12dW/xefj/xc1/xac/x98S//xba/xe8M/x9f/xd8/xd8R/xdc/xf4/x19/x1a;/xb8/xd3/x8e/x99/x17Qs/x88/xb7_|/x16/xf4/xef/xee/x82?/xa1/xa0/x01/x01/x02/0/0/x01/0/0/x18/xcb/x85-[/xe1/x98L/xf5/xefM#/xdf/xd9VJ/x86/x16U#/x8f/xb0o/xc1/x8ckI/x84/x86X<)/x01/xfd/x97/x84/xbc/xa1;p/xb9/xe5/xf0/x1aa/x8fS/x1c/xac-/x98}/xda/xd6(/xea/xcd:.[1/xde:/xf2/xd5/x01/0/0/0/0/0/0/0 /x88 J/xbc/x11/x18/xf0/xb8W/xc4T{|/x8b/xbc5/xfcF&//xda/x8d/xc3B/xb3/xf8/xedt/xf5/x12E/xd4/x18/xcb/x85-[/xe1/x98L/xf5/xefM#/xdf/xd9VJ/x86/x16U#/x8f/xb0o/xc1/x8ckI/x84/x86X<)/xe8/x03/0/0/0/0/0/0/xf0%/x85/0/0/0/0/0/0") }), digest: None, version: None, kind: None, sender: None, gas_payment: None, expiration: None }), signatures: [], effects: Some(TransactionEffects { bcs: Some(Bcs { name: Some("TransactionEffects"), value: Some(b"/x01/0/0/0/0/0/0/0/0/0@B/x0f/0/0/0/0/0p/xa1f/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0 /x9d w_h/xbc/x1a*/xaa/x99d/x8dM/xd7/xe9/xd1Fz /x83;/x8aE/xf0w_q/xa6/xdd/xd4/xca/xbd/x01/x02/0/0/0/0/x05 /x15/x95/xe9/xa9/x9c/xb92F/xa9/x19/xd8/xad/xdf2b/xfcpd?/xc4/xb4f/x91/x04J!/xf3kR/x03/x8c/x81 E/xed6Z/x1b/x1d/0/xa0/xa0/x7f/x1d/xcf/xc4//x90/x0e/xd4/xe0/P@v/x1c/xe76/x91/xad6Hb/xee/xea /x97/xc1/x01/xb0/xc1/xde/x06/x85K/x84HuKl/xbd/x02FHK/x06[L/xfb/xd8/x040;/xdc/x05/xf0/xf4l /x9c/xd0/x87/xaa//x97/xedK/xeb/x94zC/xdfWT/xa2/xb7*/x97vN/xf2/xef/x12/xea_r,m/xf6/x87/xc9 /xcb/xdb/xe3Z/xc7/x87/xc9/t/x96x/xe7HFt=/xb3/xfbW4/x19%/x80#/xb3/xa1/x03R/x8a/xc4/xea/xfe/xad/x02/0/0/0/0/0/0/0/x03/x1a/xb2Q/x03/x8b/xc7/x0c&/xbfuq3/xe7%>/xc8/x82/xda/xecp/xd5/xf5/xb0/xb5/x8e/xe9/t/x9d6/x19/x9fg/0/x01 /xee/xa4/x99/xd1|/xff/x89A/xd2/x0et/xfd|3[Nl/xfaGk/xec/xdfg_/xb5}/x0f/xb1fQ/xf4/x91/0/x18/xcb/x85-[/xe1/x98L/xf5/xefM#/xdf/xd9VJ/x86/x16U#/x8f/xb0o/xc1/x8ckI/x84/x86X<)/x01/xbe/x9fO/x05a/x9b/xac.ez/x07L/xca/x9b/xeb/u/xfd/xf3E/xfc/x18/xa6/x17E/xfea/x90/xa8/x15f/xca/0/x02/x01/0/0/0/0/0/0/0 D-/xb3L/xd4/xd2$/xff/xb6/xdb/x88/x8bn/xce/x92E/xef/x81v)r/xac/xb8/xfa/x93/x81e/xd0T/xbd/xe7/"/x01/xfd/x97/x84/xbc/xa1;p/xb9/xe5/xf0/x1aa/x8fS/x1c/xac-/x98}/xda/xd6(/xea/xcd:.[1/xde:/xf2/xd5/x01/x01/0/0/0/0/0/0/0 /x88 J/xbc/x11/x18/xf0/xb8W/xc4T{|/x8b/xbc5/xfcF&//xda/x8d/xc3B/xb3/xf8/xedt/xf5/x12E/xd4/0/x18/xcb/x85-[/xe1/x98L/xf5/xefM#/xdf/xd9VJ/x86/x16U#/x8f/xb0o/xc1/x8ckI/x84/x86X<)/x01 /x1b/xe0/xffA/xdd/xaf/x08/x8d/xc0N/xf3/x92/x84N//x911/x9c/x8e/xae/x9d:/x17/x01c/x7f$^/xc4`%/xa3/0/x18/xcb/x85-[/xe1/x98L/xf5/xefM#/xdf/xd9VJ/x86/x16U#/x8f/xb0o/xc1/x8ckI/x84/x86X<)/0/0/0") }), digest: None, version: None, status: Some(ExecutionStatus { success: Some(true), error: None }), epoch: None, gas_used: None, transaction_digest: None, gas_object: None, events_digest: None, dependencies: [], lamport_version: None, changed_objects: [ChangedObject { object_id: Some("0x1ab251038bc70c26bf757133e7253ec882daec70d5f5b0b58ee9099d36199f67"), input_state: Some(DoesNotExist), input_version: None, input_digest: None, input_owner: None, output_state: Some(ObjectWrite), output_version: Some(2), output_digest: Some("H4Zc9EYUJAByovqMyjhSwZJdiA9L2yBeYRG7U4fPstFA"), output_owner: Some(Owner { kind: Some(Address), address: Some("0x18cb852d5be1984cf5ef4d23dfd9564a861655238fb06fc18c6b498486583c29"), version: None }), accumulator_write: None, id_operation: Some(Created), object_type: Some("0x0000000000000000000000000000000000000000000000000000000000000002::package::UpgradeCap") }, ChangedObject { object_id: Some("0xbe9f4f05619bac2e657a074cca9beb2f75fdf345fc18a61745fe6190a81566ca"), input_state: Some(DoesNotExist), input_version: None, input_digest: None, input_owner: None, output_state: Some(PackageWrite), output_version: Some(1), output_digest: Some("5b99BgLtkNtM2uQFpCg5uT149VktSQG3xuqpzcWD19Sy"), output_owner: None, accumulator_write: None, id_operation: Some(Created), object_type: Some("package") }, ChangedObject { object_id: Some("0xfd9784bca13b70b9e5f01a618f531cac2d987ddad628eacd3a2e5b31de3af2d5"), input_state: Some(Exists), input_version: Some(1), input_digest: Some("AAP1MLGP2sz39osvESJj5kjS41xffaKo8XhCZNNjcPdV"), input_owner: Some(Owner { kind: Some(Address), address: Some("0x18cb852d5be1984cf5ef4d23dfd9564a861655238fb06fc18c6b498486583c29"), version: None }), output_state: Some(ObjectWrite), output_version: Some(2), output_digest: Some("2spznwPc91rNqtkGxjdEaXDDQzDB3e9VuzZVV8smeCGi"), output_owner: Some(Owner { kind: Some(Address), address: Some("0x18cb852d5be1984cf5ef4d23dfd9564a861655238fb06fc18c6b498486583c29"), version: None }), accumulator_write: None, id_operation: Some(None), object_type: Some("0x0000000000000000000000000000000000000000000000000000000000000002::coin::Coin<0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI>") }], unchanged_consensus_objects: [], auxiliary_data_digest: None, unchanged_loaded_runtime_objects: [] }), events: None, checkpoint: None, timestamp: None, balance_changes: [BalanceChange { address: Some("0x18cb852d5be1984cf5ef4d23dfd9564a861655238fb06fc18c6b498486583c29"), coin_type: Some("0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"), amount: Some("-7726000") }], objects: None }) }, extensions: Extensions })

Caused by:
    Transaction executed but checkpoint wait timed out

----- stderr -----
