---
source: crates/sui/tests/shell_tests.rs
description: tests/shell_tests/cache_package/cache_package.sh
---
----- script -----
# Copyright (c) Mysten Labs, Inc.
# SPDX-License-Identifier: Apache-2.0

export GIT_CONFIG_GLOBAL=""

git init -q -b main a
git -C a add .
git -C a -c user.email=test@test.com -c user.name=test commit -q -m "initial revision"

HASH=$(git -C a log --pretty=format:%H)

# Run the `cache-package` command
sui move cache-package testnet 4c78adac "{ git = \"a\", rev = \"${HASH}\", subdir = \".\" }"

----- results -----
success: true
exit_code: 0
----- stdout -----
{"name":"a","published-at":"0x000000000000000000000000000000000000000000000000000000000000cafe","original-id":"0x00000000000000000000000000000000000000000000000000000000deadbeef","chain_id":"4c78adac"}

----- stderr -----
