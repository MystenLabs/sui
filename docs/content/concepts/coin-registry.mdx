---
title: Coin Registry System
description: Learn about Sui's centralized coin registry system that manages metadata, supply states, and regulatory status for all coin types in the ecosystem.
---

The Sui blockchain includes a centralized coin registry system that provides a unified way to manage metadata, supply information, and regulatory status for all coin types in the ecosystem. This system is implemented in the `sui::coin_registry` module and serves as the foundation for coin management across the network.

The Coin Registry is a system-level shared object that acts as a central repository for all coin-related data. Unlike the legacy `CoinMetadata` approach where each coin type had its own metadata object, the registry provides a unified interface for managing coin information while maintaining backward compatibility.

:::info

The Coin Registry shared object is located at address `0xc`.

:::

<details>
<summary>
`sui::coin_registry` module
</summary>
<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" />
</details>

## Core components

### `CoinRegistry`

The `CoinRegistry` is the main system object that coordinates all coin-related operations:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" struct="CoinRegistry" noComments />

This shared object serves as the entry point for all registry operations. The system address creates the object only once during network initialization.

### `Currency<T>`

The `Currency<T>` struct is the heart of the registry system, storing comprehensive information about each coin type:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" struct="Currency" noComments />

Key features of `Currency<T>`:

- **Metadata management:** Stores basic coin information like name, symbol, decimals, description, and icon URL.
- **Supply tracking:** Maintains supply state information (fixed, burn-only, or unknown).
- **Regulatory status:** Tracks whether the coin is regulated with deny list capabilities.
- **Capability references:** Links to `TreasuryCap`s and `MetadataCap`s for the coin type.
- **Extensibility:** Includes extra fields for future enhancements.

### Supply states

The registry supports three different supply management models:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" enumeration="SupplyState" noComments />

- **Fixed supply:** The total supply is permanently locked and cannot be changed.
- **Burn-only supply:** New coins cannot be minted, but existing coins can be burned.
- **Unknown supply:** Traditional model where the `TreasuryCap` holder controls minting and burning.

### Regulatory states

Coins can have different regulatory statuses that affect their behavior:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" enumeration="RegulatedState" noComments />

- **Regulated:** The coin has an associated `DenyCapV2` that can restrict addresses from using it.
- **Unregulated:** The coin was created without any deny list capabilities.
- **Unknown:** Regulatory status is undetermined (typically from legacy migrations).

### Metadata capability

The `MetadataCap<T>` controls who can update a coin's metadata:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" struct="MetadataCap" noComments />

The possible states for this capability are:

- **Unclaimed:** The metadata cap has not yet been claimed.
- **Claimed:** The metadata cap has been claimed and can be used for updates.
- **Deleted:** The metadata cap has been permanently deleted, preventing future updates.

## Coin creation process

The coin workflow includes creation and initialization. 

### Creation options

The registry supports two different coin creation flows:

1. Standard creation (recommended)
    <ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="new_currency" noComments />

    This can be called at any time after the coin type is published and immediately creates a shared `Currency<T>` object.

1. One-Time Witness (OTW) creation
    <ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="new_currency_with_otw" noComments />

    This uses an OTW for uniqueness proof and requires a separate finalization step to make the currency shared.

### Currency initialization

Both creation methods return a `CurrencyInitializer<T>` that allows for additional configuration before finalization:

- **Make regulated:** Add deny list capabilities.
- **Set supply model:** Choose between fixed, burn-only, or flexible supply.
- **Add extensions:** Include additional fields for custom functionality.

### Finalization

The initialization process concludes with the `finalize` function:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="finalize" noComments />

This creates the final shared `Currency<T>` object and returns the `MetadataCap<T>` for metadata management.

## Key operations

The `sui::coin_registry` module provides functions to manage metadata and supply.

### Metadata management

Only the holder of the `MetadataCap<T>` can update metadata:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="set_name,set_symbol,set_description,set_icon_url" noComments />

### Supply management

For burn-only currencies, coins can be burned through the registry:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="burn,burn_balance" noComments />

### Capability management

The metadata capability can be claimed once and optionally deleted:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="claim_metadata_cap,delete_metadata_cap" noComments />

## Legacy migration

The registry system provides seamless migration from the legacy `CoinMetadata<T>` system:

### Metadata migration

Use the `migrate_legacy_metadata<T>` function to create a new `Currency<T>` entry based on existing `CoinMetadata<T>` information.

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="migrate_legacy_metadata" noComments />

### Regulatory migration

For coins with deny list capabilities:

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="migrate_regulated_state_by_metadata,migrate_regulated_state_by_cap" noComments />

These functions update the regulatory status based on existing deny list objects.

## Query interface

The registry provides comprehensive read-only access to coin information.

### Basic metadata

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="decimals,name,symbol,description,icon_url" noComments />

### Supply information

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="total_supply,is_supply_fixed,is_supply_burn_only" noComments />

### Capability status

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="is_metadata_cap_claimed,is_metadata_cap_deleted,treasury_cap_id,metadata_cap_id" noComments />

### Regulatory information

<ImportContent source="crates/sui-framework/packages/sui-framework/sources/registries/coin_registry.move" mode="code" fun="is_regulated,deny_cap_id" noComments />

## Benefits and use cases

Using the Coin Registry has some advantages over OTW coin creation.

### Centralized management

The registry provides a single source of truth for all coin information, making it easier for:

- **Wallets:** Display consistent coin information.
- **Exchanges:** Access standardized metadata.
- **dApps:** Query coin properties reliably.
- **Indexers:** Track all coins from one location.

### Supply transparency

By tracking supply states, the registry enables:

- **Fixed supply verification:** Users can verify that a coin's supply is truly fixed.
- **Deflationary mechanisms:** Burn-only coins provide guaranteed deflation.
- **Supply analytics:** Clear tracking of total supply changes over time.

### Regulatory compliance

The regulatory tracking features support:

- **Compliance tooling:** Easy identification of regulated coins.
- **Risk assessment:** Understanding deny list capabilities.
- **Jurisdictional filtering:** Filtering coins based on regulatory status.

### Backward compatibility

The migration system ensures:

- **Seamless transition:** Existing coins continue to work.
- **Gradual adoption:** Projects can migrate at their own pace.
- **No breaking changes:** Legacy interfaces remain functional.

## Best practices

Consider the following points when planning to launch a coin.

### For coin creators

1. **Use OTW creation:** Prefer the OTW-based creation for better uniqueness guarantees.
2. **Set supply model early:** Decide on supply model during initialization.
3. **Consider regulation:** Evaluate whether deny list capabilities are needed.
4. **Manage metadata cap:** Decide whether to keep, transfer, or delete the metadata capability.

### For dApp developers

1. **Query registry first:** Check the registry for coin information before fallback to legacy methods.
2. **Handle migration states:** Account for coins in various migration states.
3. **Respect supply models:** Understand the implications of different supply states.
4. **Check regulatory status:** Be aware of regulated coins and their restrictions.

### For infrastructure providers

1. **Monitor registry changes:** Track new coin registrations and updates.
2. **Index supply changes:** Monitor burn events for burn-only coins.
3. **Handle legacy coins:** Support both registry and legacy metadata systems.
4. **Cache efficiently:** Registry data changes infrequently and can be cached.

## Security considerations

Mitigate possible exploits with the following security concepts.

### Capability security

- **`MetadataCap`:** Protect metadata capabilities as they control coin branding.
- **`TreasuryCap`:** Treasury capabilities determine minting/burning permissions.
- **`DenyCapV2`:** Deny capabilities can restrict coin usage.

### Validation

The registry enforces several important validations:

- **Symbol validation:** Symbols must be ASCII printable characters.
- **Uniqueness:** Each coin type can only be registered once.
- **Supply consistency:** Supply states cannot be downgraded.
- **Permission checks:** Only appropriate capability holders can make changes.

### Migration safety

- **One-time migration:** Legacy metadata can only be migrated once.
- **Capability proof:** Metadata deletion requires capability ownership.
- **State consistency:** Regulatory state migration prevents double-setting.

The coin registry system represents a significant evolution in Sui's approach to coin management, providing a robust, extensible, and user-friendly foundation for the ecosystem's monetary infrastructure.