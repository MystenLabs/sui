---
title: Custom Transfer Rules
description: Custom transfer rules let you define conditions that must be met before Sui considers a transfer operation valid.
---

Every Sui object must have the `key` ability. The `store` ability, however, is optional. Objects with the `store` ability:

- Can be transferred by anyone using the `transfer::public_transfer` function.
- Can be wrapped in other objects.

If an object does not have the `store` ability, you cannot call `sui::transfer::public_transfer` to transfer it. Only the Move module that defines the object can transfer it, using `sui::transfer::transfer`. Because of this, the defining module can implement a custom transfer function that accepts any number of arguments and enforces any restrictions, such as requiring a fee before the transfer.

## The store ability and transfer rules

Custom transfer rules let you enforce conditions that must be met for a valid transfer. Be intentional when adding the `store` ability, since it removes the possibility of enforcing custom rules. After you enable public transfers on an object, you cannot restore restrictions.

## Example

The following example defines an object type `Object` that can only be transferred if its `unlocked` flag is `true`:

```move
public struct Object has key {
    id: UID,
    // An `Object` can only be transferred if this field is `true`
    unlocked: bool,
}
```

Within the same module, you can define a custom transfer rule `transfer_unlocked`. This function takes the object to transfer and the recipientâ€™s address, and verifies that the object is unlocked before transferring it:

```move
module examples::custom_transfer;

// Error code for trying to transfer a locked object
const EObjectLocked: u64 = 0;

public struct Object has key {
    id: UID,
    // An `Object` can only be transferred if this field is `true`
    unlocked: bool,
}

// Transfer only if `Object` is unlocked
public fun transfer_unlocked(object: Object, to: address) {
    assert!(object.unlocked, EObjectLocked);
    transfer::transfer(object, to)
}
```

You can also define rules for locked objects. For example, the following function only allows locked objects to be transferred to a specific address:

```move
const EObjectNotLocked: u64 = 1;
const HOME_ADDRESS = @0xCAFE;

public fun transfer_locked(object: Object) {
    assert!(!object.unlocked, EObjectNotLocked);
    transfer::transfer(object, HOME_ADDRESS)
}
```

With these rules, objects of type `Object` can be transferred in only two ways:

- If unlocked, they can be transferred to any address using `transfer_unlocked`.
- If locked, they can only be transferred to `0xCAFE` using `transfer_locked`.

Because `Object` does not have the `store` ability, you cannot transfer it with `sui::transfer::public_transfer`. The only valid transfer functions are the ones explicitly defined in the module.
