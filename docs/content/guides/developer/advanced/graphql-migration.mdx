---
title: Migrating to GraphQL (Alpha)
beta: testnet, devnet, mainnet
---

<ImportContent source="migrate-to-graphql.mdx" mode="snippet" />

For a comprehensive list of all available GraphQL features, consult the [reference](../../../references/sui-graphql).

:::info

<ImportContent source="data-serving-msg.mdx" mode="snippet" />

<ImportContent source="data-serving-gql-alpha.mdx" mode="snippet" />

:::

### Example 1: Get total transaction blocks

The goal is to get the total number of transaction blocks in the network.

<Tabs groupId="json-graphql">

<TabItem value="json-rpc" label="JSON-RPC">

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "sui_getTotalTransactionBlocks",
  "params": []
}
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query {
  checkpoint {
    networkTotalTransactions
  }
}
```

</TabItem>
</Tabs>

### Example 2: Get a specific transaction block
The goal is to get the transaction block by its digest.

<Tabs groupId="json-graphql">

<TabItem value="json-rpc" label="JSON-RPC">

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "sui_getTransactionBlock",
  "params": [
    "Hay2tj3GcDYcE3AMHrej5WDsHGPVAYsegcubixLUvXUF",
    {
      "showInput": true,
      "showRawInput": false,
      "showEffects": true,
      "showEvents": true,
      "showObjectChanges": false,
      "showBalanceChanges": false
    }
  ]
}
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query {
  transactionBlock(digest: "Hay2tj3GcDYcE3AMHrej5WDsHGPVAYsegcubixLUvXUF") {
    gasInput {
      gasSponsor {
        address
      }
      gasPrice
      gasBudget
    }
    effects {
      status
      timestamp
      checkpoint {
        sequenceNumber
      }
      epoch {
        epochId
        referenceGasPrice
      }
    }
  }
}
```
</TabItem>
</Tabs>

### Example 3: Get coin objects owned by an address

The goal is to return all `Coin<0x2::sui::SUI>` objects an address owns.

<Tabs groupId="json-graphql">

<TabItem value="json-rpc" label="JSON-RPC">

```json
query {
  "jsonrpc": "2.0",
  "id": 1,
  "method": "suix_getCoins",
  "params": [
    "0x5094652429957619e6efa79a404a6714d1126e63f551f4b6c7fb76440f8118c9", //owner
    "0x2::sui::SUI",                                                      //coin type
    "0xe5c651321915b06c81838c2e370109b554a448a78d3a56220f798398dde66eab", //cursor
    3 //limit
  ]
}
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query {
  address(address: "0x5094652429957619e6efa79a404a6714d1126e63f551f4b6c7fb76440f8118c9") {
    coins(
      first: 3,
      after: "IAB3ha2PEA4ESRF4UErsJufJEwYpmSbCq7UNpxIHnLhG",
      type: "0x2::sui::SUI"
    ) {
      nodes {
        address
      }
    }
  }
}
```

:::info
The cursor is now passed in the `after` (or `before`) fields on the connection, and the limit in the `first` or `last` fields.
:::

</TabItem>
</Tabs>

## New features

There are also things that GraphQL can do, which JSON-RPC cannot:

### Example 4: Getting objects by type

This query fetches the latest versions of objects of type `0x2::package::Publisher` that are currently live on-chain.

```graphql
query {
  objects(filter: { type: "0x2::package::Publisher" }) {
    nodes {
      address
      digest
      asMoveObject {
        contents { json }
      }
    }
  }
}
```

### Example 5: Paging through package versions

The goal is to find all versions of the Sui framework, and list their modules:

```graphql
query {
  packageVersions(address: "0x2") {
    nodes {
      version
      modules {
        nodes {
          name
        }
      }
    }
  } 
}
```

## Related links
  
<RelatedLink to="/references/sui-graphql.mdx" />
<RelatedLink to="/guides/developer/getting-started/graphql-rpc.mdx" />
<RelatedLink to="/concepts/graphql-rpc.mdx" />
