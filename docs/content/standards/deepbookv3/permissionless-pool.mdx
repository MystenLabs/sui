---
title: Permissionless Pool Creation
description: Learn about how to create a pool permissionlessly
---

{@include: ../../snippets/deepbook.mdx}

The `BalanceManager` shared object holds all balances for different assets. To perform trades, pass a combination of `BalanceManager` and `TradeProof` into a [pool](./design.mdx#pool). `TradeProof`s are generated in one of two ways, either by the `BalanceManager` owner directly, or by any `TradeCap` owner. The owner can generate a `TradeProof` without the risk of equivocation. The `TradeCap` owner, because it's an owned object, risks equivocation when generating a `TradeProof`. Generally, a high frequency trading engine trades as the default owner.

With exception to swaps, all interactions with DeepBook require a `BalanceManager` as one of its inputs. When orders are matched, funds are transferred to or from the `BalanceManager`. You can use a single `BalanceManager` between all pools.

## API

### Create a `Pool`

The `create_permissionless_pool()` function creates a `Pool`

{@inject: github:MystenLabs/deepbookv3/packages/deepbook/sources/pool.move#fun=create_permissionless_pool noComments}

Tick size should be 10^(9 - base_decimals + quote_decimals - decimal_desired). For example, if creating a SUI(9 decimals)/USDC(6 decimals) pool, with a desired decimal of 3 for tick size (0.001), tick size should be 10^(9 - 9 + 6 - 3) = 10^(3) = 1000

Decimal desired should be at most 1bps, or 0.01% of the price between base and quote asset. For example, if 4 decimals is the target, 0.0001 / price should be <= 0.0001.

Lot size is in mist of the base asset, and should be approximately $0.01 to $0.10 nominal of the base asset. Lot size must be a power of 10, and less than or equal to min size. Lot size should also be >= 1000.

Min size is in mist of the base asset, and should be approximately $0.10 to $1.00 nominal of the base asset. Min size must be a power of 10, and larger than or equal to lot size.

Creation fee is 500 DEEP tokens.

Note: Pools can only be created if the asset pair has not already been created before.

### Add Deep Price Point

The `add_deep_price_point()` function allows for the calculation of deep price and collect fees in DEEP correctly.

{@inject: github:MystenLabs/deepbookv3/packages/deepbook/sources/pool.move#fun=add_deep_price_point noComments}

All pools will support input token fees. To allow a permissionless pool to pay fees in `DEEP`, which has a 20% discount compared to input token fees, two conditions must be met:

1. Either the base or quote asset must be `USDC` or `SUI`.
2. To calculate DEEP fees accurately, a cron job must be set up to call the `add_deep_price_point()` function on the pool every 1-10 minutes.

For a pool with `USDC` as an asset, use the `DEEP/USDC` pool at `0xf948981b806057580f91622417534f491da5f61aeaf33d0ed8e69fd5691c95ce` as the reference pool.
For a pool with `SUI` as an asset, use the `DEEP/SUI` pool at `0xb663828d6217467c8a1838a03793da896cbe745b150ebd57d82f814ca579fc22` as the reference pool.
