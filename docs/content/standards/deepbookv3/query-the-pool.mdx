---
title: Query the Pool
description: A Pool is a shared object that represents a unique market pair, such as SUI/USDC. 
keywords: [ deepbook, deepbookv3, pool, balancemanager, tradeproof, query a pool, query pool, whitelist status, base quantity against quote, quote quantity against base, DEEP fees, input token fees, quote quantity against quote or base, check fee required, reserve mid price, reserve pool mid price ]
---


The `Pool` shared object represents a market, such as a SUI/USDC market. That `Pool` is the only one representing that unique pairing (SUI/USDC) and the pairing is the only member of that particular `Pool`. See [DeepBookV3 Design](./design.mdx#pool) to learn more about the structure of pools.

To perform trades, you pass a `BalanceManager` and `TradeProof` into the relevant `Pool`. Unlike `Pool`s, `BalanceManager` shared objects can contain any type of token, such that the same `BalanceManager` can access multiple `Pool`s to interact with many different trade pairings. See [BalanceManager](./balance-manager.mdx) to learn more.

## API

DeepBookV3 exposes a set of endpoints that can be used to query any pool.

### Check whitelist status

Accessor to check whether the pool is whitelisted.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L877-L880
```

### Check quote quantity against base (DEEP fees)

Dry run to determine the quote quantity out for a given base quantity. Uses DEEP as fee.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L891-L899
```

### Check base quantity against quote (DEEP fees)

Dry run to determine the base quantity out for a given quote quantity. Uses DEEP as fee.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L901-L909
```

### Check quote quantity against base (input token fees)

Dry run to determine the quote quantity out for a given base quantity. Uses input token as fee.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L911-L919
```

### Check base quantity against quote (input token fees)

Dry run to determine the base quantity out for a given quote quantity. Uses input token as fee.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move##L921-L929
```

### Check quote quantity against quote or base

Dry run to determine the quantity out for a given base or quote quantity. Only one out of base or quote quantity should be non-zero. Returns the (`base_quantity_out`, `quote_quantity_out`, `deep_quantity_required`).

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L931-L957
```

### Check fee required

Returns the DEEP required for an order if it's a taker or maker given quantity and price (`deep_required_taker`, `deep_required_maker`).

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1123-L1145
```

### Retrieve mid price for a pool

Returns the mid price of the pool.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L986-L992
```

### Retrieve order IDs

Returns the `order_id` for all open orders for the `balance_manager` in the pool.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L994-L1006
```

### Retrieve prices and quantities for an order book

Returns vectors holding the prices (`price_vec`) and quantities (`quantity_vec`) for the level2 order book. The `price_low` and `price_high` are inclusive, all orders within the range are returned. `is_bid` is `true` for bids and `false` for asks.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1008-L1029
```

Returns vectors holding the prices (`price_vec`) and quantities (`quantity_vec`) for the level2 order book. `ticks` are the maximum number of ticks to return starting from best bid and best ask. (`bid_price`, `bid_quantity`, `ask_price`, `ask_quantity`) are returned as four vectors. The price vectors are sorted in descending order for bids and ascending order for asks.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1031-L1064
```

### Retrieve balances

Get all balances held in this pool.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1066-L1071
```

### Retrieve pool ID

Get the ID of the pool given the asset types.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1073-L1076
```

### Retrieve order information

Returns the `Order` struct using the order ID.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1078-L1084
```

Returns a vector of `Order` structs using a vector of order IDs.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1086-L1101
```

Returns a vector of `Order` structs for all orders that belong to a `BalanceManager` in the pool.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1103-L1111
```

### Retrieve locked balance

Returns the locked balance for a `BalanceManager` in the pool (`base_quantity`, `quote_quantity`, `deep_quantity`).

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1147-L1177
```

### Retrieve pool parameters

Returns the trade parameters for the pool (`taker_fee`, `maker_fee`, `stake_required`).

```move reference
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1179-L1190
```

Returns the trade parameters for the next epoch for the currently leading proposal of the pool (`taker_fee`, `maker_fee`, `stake_required`).

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1192-L1203
```

Returns the quorum needed to pass proposal in the current epoch.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1226-L1229
```

Returns the book parameters for the pool (`tick_size`, `lot_size`, `min_size`).

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1205-L1215
```

Returns the `OrderDeepPrice` struct for the pool, which determines the conversion for DEEP fees.

```move reference 
https://github.com/MystenLabs/deepbookv3/blob/master/packages/deepbook/sources/pool.move#L1113-L1121
```

## Related links

- [DeepBookV3 repository](https://github.com/MystenLabs/deepbookv3): The DeepBookV3 repository on GitHub.
