# External events for this test were generated by tracing the following PTB,
# containing all events other than Upgrade.
# Change the following addresses to match the account and the published package
# (testnet digest for this PTB transaction is E4EkJLzYvqvE1GBUivHCBmKbUdwfceR56aYiq842GfjA).
OWNER=0xa16e071bcb515aac56961965a085e94fb4af2c6b9a4cac2d39d7092f8e55ba0b
PKG_ID=0x0146ce67a71a3e382d42e703ccd348bc22d692179e1d857214c3f2494c1bbf29
T_CAP=0x7c7a911c304caebdca09a4df1cc8e47a328c066baa9bec4711fe0c7f46b406c7


sui client ptb \
    --move-call sui::tx_context::sender \
    --assign sender \
    --publish "../package_with_init" \
    --assign upgrade_cap \
    --transfer-objects "[upgrade_cap]" sender \
    --make-move-vec "<u64>" "[500,500]" \
    --assign balances_vec \
    --move-call $PKG_ID::my_coin::mint @$T_CAP balances_vec \
    --assign coin \
    --split-coins coin "[100,100,100,100,100]" \
    --assign new_coins \
    --merge-coins new_coins.0 "[new_coins.1,new_coins.2]" \
    --make-move-vec "<sui::coin::Coin<$PKG_ID::my_coin::MY_COIN>>" "[coin,new_coins.0,new_coins.3,new_coins.4]" \
    --assign coins_to_burn \
    --move-call $PKG_ID::my_coin::burn @$T_CAP coins_to_burn
