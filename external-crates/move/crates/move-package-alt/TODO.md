TODO
====
 - in many instances we've wanted to do some amount of tranformation when converting from serialized
   stuff into our data structures. I've been thinking for a while that we may want to just have a
   separate parsing module that contains only the parsing data structures and
   serialization/deserialization code. We've been avoiding this for a while and I think it's
   causing us headaches

 -

Needs review
============
 - [X] dependency/dependency_set.rs
 - [X] dependency/mod.rs
 - [X] dependency/local.rs
 - [X] dependency/git.rs - will rereview with cleanup PR

 - [ ] dependency/external.rs
 - [ ] mocks/mock-resolver.rs
 - [ ] jsonrpc/types.rs
 - [ ] jsonrpc/client.rs
 - [ ] jsonrpc/mod.rs
 - [ ] tests/jsonrpc_tests.rs


 - [ ] errors/manifest_error.rs
 - [ ] errors/git_error.rs
 - [ ] errors/files.rs
 - [ ] errors/mod.rs
 - [ ] errors/located.rs
 - [ ] errors/lockfile_error.rs
 - [ ] errors/resolver_error.rs
 - [ ] lib.rs

 - [ ] main.rs
 - [ ] cli/build.rs
 - [ ] cli/mod.rs
 - [ ] cli/parse.rs

 - [ ] package/mod.rs
 - [ ] flavor/vanilla.rs
 - [ ] flavor/mod.rs

 - [ ] package/lockfile.rs
 - [ ] package/manifest.rs

 - [ ] tests/test_runner.rs
 - [ ] tests/data/flavor_sui/Move@parsed.snap
 - [ ] tests/data/flavor_sui/Move.parsed
 - [ ] tests/data/flavor_sui/Move.toml
 - [ ] tests/data/edition_unknown/Move@parsed.snap
 - [ ] tests/data/edition_unknown/Move.parsed
 - [ ] tests/data/edition_unknown/Move.toml
 - [ ] tests/data/edition_2024_alpha/Move@parsed.snap
 - [ ] tests/data/edition_2024_alpha/Move.parsed
 - [ ] tests/data/edition_2024_alpha/Move.toml
 - [ ] tests/data/external_returns_external/Move.pinned
 - [ ] tests/data/external_returns_external/Move@pinned.snap
 - [ ] tests/data/external_returns_external/Move.toml
 - [ ] tests/data/too_many_entries_renaming_instantiation/Move@parsed.snap
 - [ ] tests/data/too_many_entries_renaming_instantiation/Move.parsed
 - [ ] tests/data/too_many_entries_renaming_instantiation/Move.toml
 - [ ] tests/data/invalid_lockfile_parsing/Move.snap
 - [ ] tests/data/no_path_set_for_dependency/Move@parsed.snap
 - [ ] tests/data/no_path_set_for_dependency/Move.parsed
 - [ ] tests/data/no_path_set_for_dependency/Move.toml
 - [ ] tests/data/flavor_unknown/Move@parsed.snap
 - [ ] tests/data/flavor_unknown/Move.parsed
 - [ ] tests/data/flavor_unknown/Move.toml
 - [ ] tests/data/invalid_identifier_package_name/Move@parsed.snap
 - [ ] tests/data/invalid_identifier_package_name/Move.parsed
 - [ ] tests/data/invalid_identifier_package_name/Move.toml
 - [ ] tests/data/missing_required_package_segment/Move@parsed.snap
 - [ ] tests/data/missing_required_package_segment/Move.parsed
 - [ ] tests/data/missing_required_package_segment/Move.toml
 - [ ] tests/data/missing_minimal_required_field_name/Move@parsed.snap
 - [ ] tests/data/missing_minimal_required_field_name/Move.parsed
 - [ ] tests/data/missing_minimal_required_field_name/Move.toml
 - [ ] tests/data/basic_implicit_deps/Move@parsed.snap
 - [ ] tests/data/basic_implicit_deps/Move.parsed
 - [ ] tests/data/basic_implicit_deps/Move.toml
 - [ ] tests/data/invalid_authors/Move@parsed.snap
 - [ ] tests/data/invalid_authors/Move.parsed
 - [ ] tests/data/invalid_authors/Move.toml
 - [ ] tests/data/lockfile_parsing_valid/Move.toml
 - [ ] tests/data/lockfile_parsing_valid/Move@locked.snap
 - [ ] tests/data/lockfile_parsing_valid/Move.lock
 - [ ] tests/data/lockfile_parsing_valid/Move.locked
 - [ ] tests/data/edition_unknown_suffix/Move@parsed.snap
 - [ ] tests/data/edition_unknown_suffix/Move.parsed
 - [ ] tests/data/edition_unknown_suffix/Move.toml
 - [ ] tests/data/flavor_global_storage/Move@parsed.snap
 - [ ] tests/data/flavor_global_storage/Move.parsed
 - [ ] tests/data/flavor_global_storage/Move.toml
 - [ ] tests/data/missing_required_envs_segment/Move.snap
 - [ ] tests/data/missing_required_envs_segment/Move.toml
 - [ ] tests/data/external_multiple_resolvers/Move.pinned
 - [ ] tests/data/external_multiple_resolvers/Move@pinned.snap
 - [ ] tests/data/external_multiple_resolvers/Move.toml
 - [ ] tests/data/non_identifier_address_name_in_subst/Move@parsed.snap
 - [ ] tests/data/non_identifier_address_name_in_subst/Move.parsed
 - [ ] tests/data/non_identifier_address_name_in_subst/Move.toml
 - [ ] tests/data/basic/Move@parsed.snap
 - [ ] tests/data/basic/Move.parsed
 - [ ] tests/data/basic/Move.toml
 - [ ] tests/data/external_missing_keys/Move.pinned
 - [ ] tests/data/external_missing_keys/Move@pinned.snap
 - [ ] tests/data/external_missing_keys/Move.toml
 - [ ] tests/data/package_name_empty/Move@parsed.snap
 - [ ] tests/data/package_name_empty/Move.parsed
 - [ ] tests/data/package_name_empty/Move.toml
 - [ ] tests/data/external_empty_output/Move.pinned
 - [ ] tests/data/external_empty_output/Move@pinned.snap
 - [ ] tests/data/external_empty_output/Move.toml
 - [ ] tests/data/edition_legacy/Move@parsed.snap
 - [ ] tests/data/edition_legacy/Move.parsed
 - [ ] tests/data/edition_legacy/Move.toml
 - [ ] tests/data/invalid_environment2/Move@parsed.snap
 - [ ] tests/data/invalid_environment2/Move.parsed
 - [ ] tests/data/invalid_environment2/Move.toml
 - [ ] tests/data/external_basic/Move@pinned.snap
 - [ ] tests/data/external_basic/Move.toml
 - [ ] tests/data/unknown_toplevel_field/Move@parsed.snap
 - [ ] tests/data/unknown_toplevel_field/Move.parsed
 - [ ] tests/data/unknown_toplevel_field/Move.toml
 - [ ] tests/data/edition_2024_beta/Move@parsed.snap
 - [ ] tests/data/edition_2024_beta/Move.parsed
 - [ ] tests/data/edition_2024_beta/Move.toml
 - [ ] tests/data/non_string_package_name/Move@parsed.snap
 - [ ] tests/data/non_string_package_name/Move.parsed
 - [ ] tests/data/non_string_package_name/Move.toml
 - [ ] tests/data/external_errorcode/Move.pinned
 - [ ] tests/data/external_errorcode/Move@pinned.snap
 - [ ] tests/data/external_errorcode/Move.toml
 - [ ] tests/data/invalid_environment/Move@parsed.snap
 - [ ] tests/data/invalid_environment/Move.parsed
 - [ ] tests/data/invalid_environment/Move.toml
 - [ ] tests/data/external_non_json/Move@pinned.snap
 - [ ] tests/data/external_non_json/Move.toml
 - [ ] tests/data/external_bad_schema/Move.pinned
 - [ ] tests/data/external_bad_schema/Move@pinned.snap
 - [ ] tests/data/external_bad_schema/Move.toml
 - [ ] tests/data/basic_with_bar/Move@parsed.snap
 - [ ] tests/data/basic_with_bar/Move.parsed
 - [ ] tests/data/basic_with_bar/Move.toml
 - [ ] tests/data/basic_with_bar/bar/Move@parsed.snap
 - [ ] tests/data/basic_with_bar/bar/Move.parsed
 - [ ] tests/data/basic_with_bar/bar/Move.toml
 - [ ] tests/data/edition_2024/Move@parsed.snap
 - [ ] tests/data/edition_2024/Move.parsed
 - [ ] tests/data/edition_2024/Move.toml
 - [ ] tests/data/basic_missing_git_dep/Move@parsed.snap
 - [ ] tests/data/basic_missing_git_dep/Move.parsed
 - [ ] tests/data/basic_missing_git_dep/Move.toml
 - [ ] tests/data/non_string_local_dep_path/Move@parsed.snap
 - [ ] tests/data/non_string_local_dep_path/Move.parsed
 - [ ] tests/data/non_string_local_dep_path/Move.toml
 - [ ] tests/data/integer_subst_in_dependency/Move@parsed.snap
 - [ ] tests/data/integer_subst_in_dependency/Move.parsed
 - [ ] tests/data/integer_subst_in_dependency/Move.toml
 - [ ] tests/data/basic_move_project/config
 - [ ] tests/data/basic_move_project/pkg_a/Move.toml
 - [ ] tests/data/basic_move_project/pkg_b/Move.toml
 - [ ] tests/data/invalid_hex_address_in_subst/Move@parsed.snap
 - [ ] tests/data/invalid_hex_address_in_subst/Move.parsed
 - [ ] tests/data/invalid_hex_address_in_subst/Move.toml
 - [ ] tests/data/basic_no_dep_override_git/Move@parsed.snap
 - [ ] tests/data/basic_no_dep_override_git/Move.parsed
 - [ ] tests/data/basic_no_dep_override_git/Move.toml
 - [ ] tests/data/duplicate_top_level_field/Move@parsed.snap
 - [ ] tests/data/duplicate_top_level_field/Move.parsed
 - [ ] tests/data/duplicate_top_level_field/Move.toml
 - [ ] tests/data/invalid_environment1/Move@parsed.snap
 - [ ] tests/data/invalid_environment1/Move.parsed
 - [ ] tests/data/invalid_environment1/Move.toml
 - [ ] tests/data/invalid_author/Move@parsed.snap
 - [ ] tests/data/invalid_author/Move.parsed
 - [ ] tests/data/invalid_author/Move.toml
 - [ ] tests/data/basic_external_resolver/Move@parsed.snap
 - [ ] tests/data/basic_external_resolver/Move.parsed
 - [ ] tests/data/basic_external_resolver/Move.toml
