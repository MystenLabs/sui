---
source: crates/move-transactional-test-runner/src/framework.rs
---
processed 3 tasks

task 0, lines 3-50:
//# print-bytecode
// Move bytecode v7
module 6.PolymorphicEnums {

enum EnumWithTwoVariants<T: drop> has drop {
	One { x: T },
	Two { x: T, y: u64 }
}

public f<T: drop>(t: T): EnumWithTwoVariants<T> {
L1:	l: u64
B0:
	0: LdU64(0)
	1: StLoc[1](l: u64)
	2: MoveLoc[0](t: T)
	3: MoveLoc[1](l: u64)
	4: PackVariantGeneric(VariantInstantiationHandleIndex(0))
	5: Ret
}

public mutate<T: drop>(e: &mut EnumWithTwoVariants<T>, v: T) {
L2:	x: &mut T
L3:	u: &mut u64
B0:
	0: CopyLoc[0](e: &mut EnumWithTwoVariants<T>)
	1: FreezeRef
	2: VariantSwitch(VariantJumpTableIndex(0))
B1:
	3: MoveLoc[0](e: &mut EnumWithTwoVariants<T>)
	4: UnpackVariantGenericMutRef(VariantInstantiationHandleIndex(1))
	5: StLoc[2](x: &mut T)
	6: MoveLoc[1](v: T)
	7: MoveLoc[2](x: &mut T)
	8: WriteRef
	9: Ret
B2:
	10: MoveLoc[0](e: &mut EnumWithTwoVariants<T>)
	11: UnpackVariantGenericMutRef(VariantInstantiationHandleIndex(0))
	12: StLoc[3](u: &mut u64)
	13: StLoc[2](x: &mut T)
	14: MoveLoc[1](v: T)
	15: MoveLoc[2](x: &mut T)
	16: WriteRef
	17: Ret
Jump tables:
[0]:	variant_switch EnumWithTwoVariants {
		One => jump 3
		Two => jump 10
	}
}

public get<T: drop>(e: &EnumWithTwoVariants<T>): &T {
L1:	x: &T
L2:	u: &u64
B0:
	0: CopyLoc[0](e: &EnumWithTwoVariants<T>)
	1: VariantSwitch(VariantJumpTableIndex(0))
B1:
	2: MoveLoc[0](e: &EnumWithTwoVariants<T>)
	3: UnpackVariantGenericImmRef(VariantInstantiationHandleIndex(1))
	4: StLoc[1](x: &T)
	5: MoveLoc[1](x: &T)
	6: Ret
B2:
	7: MoveLoc[0](e: &EnumWithTwoVariants<T>)
	8: UnpackVariantGenericImmRef(VariantInstantiationHandleIndex(0))
	9: StLoc[2](u: &u64)
	10: StLoc[1](x: &T)
	11: MoveLoc[1](x: &T)
	12: Ret
Jump tables:
[0]:	variant_switch EnumWithTwoVariants {
		One => jump 2
		Two => jump 7
	}
}

}
